<img src="./pics/icon.png" align="right" />

# HowToUseVim🏄

传统观点认为，Vim的学习曲线很陡。

凡是可以简化重复性操作的方式,都会成倍地节省我们的时间。

. 命令可以让我们重复上次的修改,它是Vim中最为强大的多面手。要理解 . 命令的强大,我们需要意识到这一点:“上次修改”可以指
很多东西,一次修改的单位可以是字符、整行,甚至是整个文件。. 命令是一个微型的宏。

$ 命令可以完成移动动作，把光标移到行尾。

s 命令把两个操作合并为一个:它先删除光标下的字符,然后进入插入模式。

f{char} 命令让Vim查找下一处指定字符出现的位置,如果找到了,就直接把光标移到那里。; 命令会重复查找上次 f 命令所查找的字符

u 键撤销上次的修改

/content，调出查找提示符,并输入完整的单词来查找“content”。执行过一次查找“content”的命令后,现在只需按 n 键就可以跳到下
一个匹配项。

cw 命令会删除从光标位置到单词结尾间的字符,并进入插入模式

当处于插入模式时,如果光标位于行尾的话,另起一行最快的方式是按 <CR>。不过有时我更喜欢按 <Esc>o,这是因为我有预感,也许在撤销时我想拥有更细的粒度。

在插入模式中移动光标会重置修改状态当我提到撤销命令会回退从进入插入模式到退出此模式期间输入(或删除)的全部字符时,我略过了一个小细节。如果在插入模式中使用了 <Up>、<Down>、<Left>或 <Right> 这些光标键,将会产生一个新的撤销块。你可以把这想象为先切换回普通模式,然后用 h 、j 、k 或 l 命令对光标进行了移动,唯一区别是我们并没有退出插入模式。这也会对 . 命令的操作产生影响。

操作符 + 动作命令 = 操作

| 命令 | 用途 |
| --- | --- |
| c | 修改 |
| d | 删除 |
| y | 复制到寄存器 |
| g~ | 反转大小写 |
| gu | 转换为小写 |
| gU | 转换为大写 |
| > | 增加缩进 |
| < | 减小缩进 |
| = | 自动缩进 |
| ! | 使用外部程序过滤{motion}所跨越的行 |

重新映射大小写转换键。大小写转换键是一个威胁。如果大小写转换键处于大写模式,而你尝试用k或j去移动光标,那么你触发的将会是K和J命令。



在Vim里,有三种主要的模式:

1. 正常模式(Normal Mode):用于对文本进行移动、查找替换等操作。

2. 插入模式(Insert Mode):用于输入和修改文本。

3. 可视模式(Visual Mode):用于选择和操作文本片段。

    具有3种不同的可视模式,分别用于操作字符文本、行文本和块文本。

    | 命令   | 描述                           |
    | ------ | ------------------------------ |
    | v     | 激活面向字符的可视模式                      |
    | V    | 激活面向行的可视模式                  |
    | <C - v>    | 激活面向列块的可视模式                         |
    | gv | 重选上次的高亮选区                |

gv 命令都能够正确地工作。不过如果上次的选区被删除了,它也许会工作得不太正常。


没有特别说明，则是在正常模式(Normal Mode)下的命令！

就像其他任一文本编辑器一样,Vim允许读取、编辑文件,并保存修改。在工作过程中,我们通常会说“我们正在编辑一个文件”,但真实情况并不是这样,我们编辑的只是文件在内存中的映像,也就是Vim术语中的“缓冲区”。

文件是存储在磁盘上的,而缓冲区存在于内存中。当Vim打开一个文件时,该文件的内容被读入一个具有相同名字的缓冲区。刚开始,缓冲区的内容和文件的内容完全相同,但当对缓冲区做出修改时,二者的内容就会出现差别。如果决定保留这些修改,就可以再把缓冲区的内容写回到文件里。

| 命令 | 功能 |
| --- | --- |
| j | 向下移动一个实际行 |
| gj | 向下移动一个屏幕行 |
| k | 向上移动一个实际行 |
| gk | 向上移动一个屏幕行 |
| 0 | 移动到实际行的行首 |
| g0 | 移动到屏幕行的行首 |
| ^ | 移动到实际行的第一个非空白字符 |
| g^ | 移动到屏幕行的第一个非空白字符 |
| $ | 移动到实际行的行尾 |
| g$ | 移动到屏幕行的行尾 |

| 命令 | 功能 |
| --- | --- |
| w | 正向移动到下一单词的开头 |
| b | 反向移动到当前单词/上一单词的开头 |
| e | 正向移动到当前单词/下一单词的结尾 |
| ge | 反向移动到上一单词的结尾 |

| 命令 | 用途 |
| --- | --- |
| f{char} | 正向移动到下一个 {char} 所在之处 |
| F{char} | 反向移动到上一个 {char} 所在之处 |
| t{char} | 正向移动到下一个 {char} 所在之处的前一个字符上 |
| T{char} | 反向移动到上一个 {char} 所在之处的后一个字符上 |
| ; | 重复上次的字符查找命令 |
| , | 反转方向查找上次的字符查找命令 |

## 1. Exiting 退出

| 命令   | 描述                           |
| ------ | ------------------------------ |
| :q     | 关闭文件                       |
| :qa    | 关闭所有文件                   |
| :w     | 保存                           |
| :wq/:x | 保存并关闭文件                 |
| ZZ     | 保存并退出                     |
| ZQ     | 不保存并退出                   |

## 2. Exiting insert mode 离开插入模式

| 命令       | 描述                                 |
| ---------- | ------------------------------------ |
| Esc / <C - [ >| 退出插入模式                         |
| <C - C>      | 退出插入模式，并取消当前命令           |

## 3. Editing 编辑

| 命令    | 描述                          |
| ------- | ----------------------------- |
| a       | 追加                          |
| A       | 从行尾追加                    |
| i       | 插入                          |
| o       | 下一行                        |
| O       | 上一行                        |
| s       | 删除字符并插入                |
| S       | 删除行并插入                  |
| C       | 删除至行尾并插入              |
| r       | 替换一个字符                  |
| R       | 进入替换模式                  |
| u       | 撤销更改                      |
| <C - R>   | 重做更改                      |

## 4. Visual mode 可视模式

| 命令 | 描述 |
|---|---|
| v | 进入可视模式 |
| V | 进入可视行模式 |
| <C - V> | 进入可视块模式 |
| d | 删除选定内容 |
| / | 替换选定内容 |
| x | 剪切选定内容 |

## 参考资料 🔐

[Vim cheatsheet](https://devhints.io/vim)

[Vim Cheat Sheet](https://vim.rtorr.com/)

[vim命令使用总结](https://www.bilibili.com/read/cv22398023/)